# peewee Commit f5755cb5 README

## Summary
This commit represents a significant restructuring of SQLite extension functionality in peewee. Key changes include:
1. Removal of BloomFilter implementation from `SqliteExtDatabase.__init__`
2. Pruning of Cython SQLite extensions in favor of new `playhouse.cysqlite_ext` module
3. Parameter cleanup in SQLite extension classes
4. Documentation updates reflecting architectural changes

The changes aim to improve code maintainability by separating Cython-specific implementations and removing deprecated functionality.

## Changed Modules
- `playhouse/sqlite_ext.py` (primary changes)
- `playhouse/_sqlite_ext.pyx` (Cython implementation changes)
- Multiple extension modules inheriting from SQLite base classes

## Affected Functions

### `playhouse.sqlite_ext.SqliteExtDatabase.__init__` (hop 0)
- **Change**: Removed BloomFilter support and parameter handling
- **Impact**: Applications using `bloomfilter=True` parameter will now fail. BloomFilter functionality is deprecated in favor of alternative implementations.

### `playhouse.sqlite_ext.CSqliteExtDatabase.__init__` (hop 1)
- **Change**: Parameter list simplified (bloomfilter flag removed)
- **Impact**: Improved initialization performance and cleaner API. Users must migrate BloomFilter functionality to other implementations.

### `playhouse.sqliteq.SqliteQueueDatabase.__init__` (hop 1)
- **Change**: Inherited parameter handling modified
- **Impact**: No direct impact on queue functionality, but initialization behavior aligns with parent class changes.

### `playhouse.apsw_ext.APSWDatabase.__init__` (hop 1)
- **Change**: Parent class initialization modified
- **Impact**: Potential changes in configuration handling for APSW-specific SQLite extensions.

### `peewee.PeeweeException.__init__` (hop 2)
- **Change**: Indirectly affected through error handling changes
- **Impact**: Exception messages related to SQLite initialization may differ slightly.

### `playhouse.postgres_ext.IndexedFieldMixin.__init__` (hop 2)
- **Change**: Transaction hook registration modified
- **Impact**: Potential changes in hook execution timing during model initialization.

### `peewee._HashableSource.__init__` (hop 2)
- **Change**: Database connection parameter handling modified
- **Impact**: Subtle changes in connection configuration behavior for hashable source instances.

### `playhouse.sqlite_udf.synchronized_dict.__init__` (hop 2)
- **Change**: Parent class initialization modified
- **Impact**: Thread-safe dictionary instances inherit updated SQLite connection handling.

### `playhouse.pool.PooledDatabase.__init__` (hop 2)
- **Change**: Connection parameter processing modified
- **Impact**: Connection pooling behavior for SQLite backends may differ slightly.

### `playhouse.pwasyncio.AsyncDatabaseMixin.__init__` (hop 2)
- **Change**: Inherited initialization behavior modified
- **Impact**: Async SQLite connection handling aligns with core changes.

### `playhouse.shortcuts.ReconnectMixin.__init__` (hop 2)
- **Change**: Connection parameter handling modified
- **Impact**: Reconnection behavior may differ for SQLite-specific error conditions.

### `peewee._ConnectionState.__init__` (hop 2)
- **Change**: Transaction hook registration modified
- **Impact**: Connection state management integrates with updated SQLite initialization.

### `peewee._ModelQueryHelper.__init__` (hop 2)
- **Change**: Database connection handling modified
- **Impact**: Query execution behavior may differ slightly for SQLite extension features.

## Overall Impact Analysis
This commit represents a foundational restructuring of peewee's SQLite extension architecture:
1. **Modernization**: Moves Cython-specific implementations to dedicated modules, improving code organization
2. **Simplification**: Removes deprecated BloomFilter implementation that was causing maintenance burden
3. **Consistency**: Standardizes initialization patterns across SQLite extension classes
4. **Future-proofing**: Creates clearer separation between core SQLite functionality and extension modules

The changes may require:
- Migration of BloomFilter functionality to alternative implementations
- Testing of SQLite extension-dependent code paths
- Review of initialization parameter handling in custom database classes

This refactoring sets the stage for improved performance and maintainability of SQLite extensions in future releases.