{
  "commit": "3649771",
  "parent": "93d13b218c378ed323c15b3424444ef20166e17a",
  "repo": "D:\\locbench\\black",
  "num_files_in_diff": 4,
  "num_py_files_in_diff": 2,
  "num_seeds": 4,
  "seeds": [
    {
      "path": "scripts/check_pre_commit_rev_in_example.py",
      "version": "new",
      "line": 17,
      "kind": "module",
      "qualname": "scripts.check_pre_commit_rev_in_example",
      "span": null,
      "reason": "diff_new_line_outside_defs",
      "is_test": false,
      "seed_type": "code_change",
      "new_code": null,
      "old_code": null
    },
    {
      "path": "scripts/check_pre_commit_rev_in_example.py",
      "version": "new",
      "line": 33,
      "kind": "function",
      "qualname": "scripts.check_pre_commit_rev_in_example.main",
      "span": [
        20,
        43
      ],
      "reason": "diff_new_line_in_def",
      "is_test": false,
      "seed_type": "code_change",
      "new_code": "def main(changes: str, source_version_control: str) -> None:\n    changes_html = commonmark.commonmark(changes)\n    changes_soup = BeautifulSoup(changes_html, \"html.parser\")\n    headers = changes_soup.find_all(\"h2\")\n    latest_tag, *_ = (\n        header.string for header in headers if header.string != \"Unreleased\"\n    )\n\n    source_version_control_html = commonmark.commonmark(source_version_control)\n    source_version_control_soup = BeautifulSoup(\n        source_version_control_html, \"html.parser\"\n    )\n    pre_commit_repos = yaml.safe_load(\n        source_version_control_soup.find(class_=\"language-yaml\").string  # type: ignore[union-attr, arg-type]\n    )[\"repos\"]\n\n    for repo in pre_commit_repos:\n        pre_commit_rev = repo[\"rev\"]\n        if not pre_commit_rev == latest_tag:\n            print(\n                \"Please set the rev in ``source_version_control.md`` to be the latest \"\n                f\"one.\\nExpected {latest_tag}, got {pre_commit_rev}.\\n\"\n            )\n            sys.exit(1)",
      "old_code": "def main(changes: str, source_version_control: str) -> None:\n    changes_html = commonmark.commonmark(changes)\n    changes_soup = BeautifulSoup(changes_html, \"html.parser\")\n    headers = changes_soup.find_all(\"h2\")\n    latest_tag, *_ = (\n        header.string for header in headers if header.string != \"Unreleased\"\n    )\n\n    source_version_control_html = commonmark.commonmark(source_version_control)\n    source_version_control_soup = BeautifulSoup(\n        source_version_control_html, \"html.parser\"\n    )\n    pre_commit_repos = yaml.safe_load(\n        source_version_control_soup.find(class_=\"language-yaml\").string\n    )[\"repos\"]\n\n    for repo in pre_commit_repos:\n        pre_commit_rev = repo[\"rev\"]\n        if not pre_commit_rev == latest_tag:\n            print(\n                \"Please set the rev in ``source_version_control.md`` to be the latest \"\n                f\"one.\\nExpected {latest_tag}, got {pre_commit_rev}.\\n\"\n            )\n            sys.exit(1)"
    },
    {
      "path": "scripts/check_version_in_basics_example.py",
      "version": "new",
      "line": 11,
      "kind": "module",
      "qualname": "scripts.check_version_in_basics_example",
      "span": null,
      "reason": "diff_new_line_outside_defs",
      "is_test": false,
      "seed_type": "code_change",
      "new_code": null,
      "old_code": null
    },
    {
      "path": "scripts/check_version_in_basics_example.py",
      "version": "new",
      "line": 26,
      "kind": "function",
      "qualname": "scripts.check_version_in_basics_example.main",
      "span": [
        14,
        37
      ],
      "reason": "diff_new_line_in_def",
      "is_test": false,
      "seed_type": "code_change",
      "new_code": "def main(changes: str, the_basics: str) -> None:\n    changes_html = commonmark.commonmark(changes)\n    changes_soup = BeautifulSoup(changes_html, \"html.parser\")\n    headers = changes_soup.find_all(\"h2\")\n    tags = [header.string for header in headers if header.string != \"Unreleased\"]\n    latest_tag = tags[0]\n\n    the_basics_html = commonmark.commonmark(the_basics)\n    the_basics_soup = BeautifulSoup(the_basics_html, \"html.parser\")\n    version_examples = [\n        code_block.string\n        for code_block in the_basics_soup.find_all(class_=\"language-console\")\n        if \"$ black --version\" in code_block.string  # type: ignore[operator]\n    ]\n\n    for tag in tags:\n        for version_example in version_examples:\n            if tag in version_example and tag != latest_tag:  # type: ignore[operator]\n                print(\n                    \"Please set the version in the ``black --version`` \"\n                    \"examples from ``the_basics.md`` to be the latest one.\\n\"\n                    f\"Expected {latest_tag}, got {tag}.\\n\"\n                )\n                sys.exit(1)",
      "old_code": "def main(changes: str, the_basics: str) -> None:\n    changes_html = commonmark.commonmark(changes)\n    changes_soup = BeautifulSoup(changes_html, \"html.parser\")\n    headers = changes_soup.find_all(\"h2\")\n    tags = [header.string for header in headers if header.string != \"Unreleased\"]\n    latest_tag = tags[0]\n\n    the_basics_html = commonmark.commonmark(the_basics)\n    the_basics_soup = BeautifulSoup(the_basics_html, \"html.parser\")\n    version_examples = [\n        code_block.string\n        for code_block in the_basics_soup.find_all(class_=\"language-console\")\n        if \"$ black --version\" in code_block.string\n    ]\n\n    for tag in tags:\n        for version_example in version_examples:\n            if tag in version_example and tag != latest_tag:\n                print(\n                    \"Please set the version in the ``black --version`` \"\n                    \"examples from ``the_basics.md`` to be the latest one.\\n\"\n                    f\"Expected {latest_tag}, got {tag}.\\n\"\n                )\n                sys.exit(1)"
    }
  ],
  "generated_at": "2026-02-09T16:01:15"
}