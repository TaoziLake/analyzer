--- a/src/black/comments.py
+++ b/src/black/comments.py
@@ -596,7 +596,22 @@
 def _generate_ignored_nodes_from_fmt_skip(
     leaf: Leaf, comment: ProtoComment, mode: Mode
 ) -> Iterator[LN]:
-    """Generate all leaves that should be ignored by the `# fmt: skip` from `leaf`."""
+    """Generate all leaves that should be ignored by the `# fmt: skip` from `leaf`.
+
+    Args:
+        leaf: The leaf node containing the `# fmt: skip` comment.
+        comment: The ProtoComment object representing the `# fmt: skip` directive.
+        mode: The formatting mode controlling behavior.
+
+    Returns:
+        Iterator[LN]: Nodes that should be ignored by the `# fmt: skip` directive.
+
+    Notes:
+        Handles special cases for:
+        - Nodes in with expressions (asexpr_test/with_stmt)
+        - Compound statements with semicolon-separated bodies
+        - Colon-line `# fmt: skip` in control structures
+    """
     prev_sibling = leaf.prev_sibling
     parent = leaf.parent
     ignored_nodes: list[LN] = []
