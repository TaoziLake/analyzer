# Commit b0e917c: Update File Retention Pattern Logic in Loguru

## Executive Summary
This commit modifies the file retention pattern matching logic in Loguru's logging system to improve consistency with OS path handling. The core change replaces "basename" with "root" in retention pattern matching, aligning it with `os.path.splitext()` behavior. While primarily affecting the `add()` method, this change also impacts file cleanup behavior in deprecated `start()` and `configure()` methods when custom retention patterns are used.

## Changed Modules
- `loguru/_logger.py`: Updated file retention pattern logic across multiple logger methods

## Affected Functions

### `loguru._logger.Logger.add` (hop 0)
**Change Description**  
Modified file retention pattern matching to use `os.path.splitext()`-derived "root" path instead of "basename". When rotating log files, the pattern matching now strictly follows OS path conventions.

**Impact Analysis**  
- **Why Changed**: To ensure consistent behavior across different operating systems and simplify pattern matching logic
- **Downstream Impact**: 
  - Existing custom retention patterns relying on basename-based matching may need updates
  - File cleanup logic will now match files using the format `root(.*).ext(.*)` where:
    - `root` = path without extension
    - `ext` = file extension
  - Users must adjust regex patterns to account for full root path matching

### `loguru._logger.Logger.start` (hop 1)
**Change Description**  
Deprecated method affected by retention pattern changes in `add()`. File rotation cleanup now uses root-based matching.

**Impact Analysis**  
- **Why Affected**: Inherited pattern matching changes from `add()` through internal implementation
- **Downstream Impact**:
  - Callers using this deprecated method with custom retention patterns will experience different file cleanup behavior
  - Patterns must be updated to match root-based format despite method deprecation
  - No other functional changes to this deprecated method

### `loguru._logger.Logger.configure` (hop 1)
**Change Description**  
Handler configuration affected by retention pattern changes in `add()`. Impacts file rotation behavior for handlers created through this method.

**Impact Analysis**  
- **Why Affected**: Uses same retention logic as `add()` for file sink configuration
- **Downstream Impact**:
  - Users configuring file handlers with custom retention patterns must update regex to root-based format
  - Only affects file rotation cleanup behavior, not other handler configuration aspects
  - Existing configurations without custom retention patterns remain unaffected

## Overall Impact Analysis
This commit standardizes file retention pattern matching across Loguru's logging system by:
1. Aligning with OS path handling via `os.path.splitext()`
2. Creating consistent behavior between `add()`, `configure()`, and legacy `start()` methods
3. Requiring updates to custom retention patterns that previously relied on basename matching

The changes improve reliability of file cleanup operations while introducing backward compatibility considerations for users with custom retention patterns. While primarily focused on technical consistency, the update may require configuration adjustments for applications relying on specific pattern matching behaviors. The impact on deprecated `start()` highlights the importance of migrating to supported APIs to avoid unexpected behavior from inherited changes.