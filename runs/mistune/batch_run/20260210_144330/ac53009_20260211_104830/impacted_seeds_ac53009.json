{
  "commit": "ac53009",
  "parent": "34f5a77789a03d7a196f19ee029a3a7aea724da1",
  "repo": "D:\\locbench\\mistune",
  "num_files_in_diff": 2,
  "num_py_files_in_diff": 2,
  "num_seeds": 2,
  "seeds": [
    {
      "path": "src/mistune/toc.py",
      "version": "new",
      "line": 89,
      "kind": "function",
      "qualname": "src.mistune.toc.render_toc_ul",
      "span": [
        69,
        126
      ],
      "reason": "diff_new_line_in_def",
      "is_test": false,
      "seed_type": "code_change",
      "new_code": "def render_toc_ul(toc: Iterable[Tuple[int, str, str]]) -> str:\n    \"\"\"Render a <ul> table of content HTML. The param \"toc\" should\n    be formatted into this structure::\n\n        [\n          (level, id, text),\n        ]\n\n    For example::\n\n        [\n          (1, 'toc-intro', 'Introduction'),\n          (2, 'toc-install', 'Install'),\n          (2, 'toc-upgrade', 'Upgrade'),\n          (1, 'toc-license', 'License'),\n        ]\n    \"\"\"\n    if not toc:\n        return ''\n\n    s = ''\n    levels: List[int] = []\n    for level, k, text in toc:\n        item = '<a href=\"#{}\">{}</a>'.format(k, text)\n        if not levels:\n            s += '<li>' + item\n            levels.append(level)\n        elif level == levels[-1]:\n            s += '</li>\\n<li>' + item\n        elif level > levels[-1]:\n            s += '\\n<ul>\\n<li>' + item\n            levels.append(level)\n        else:\n            levels.pop()\n            while levels:\n                last_level = levels.pop()\n                if level == last_level:\n                    s += '</li>\\n</ul>\\n</li>\\n<li>' + item\n                    levels.append(level)\n                    break\n                elif level > last_level:\n                    s += '</li>\\n<li>' + item\n                    levels.append(last_level)\n                    levels.append(level)\n                    break\n                else:\n                    s += '</li>\\n</ul>\\n'\n            else:\n                levels.append(level)\n                s += '</li>\\n<li>' + item\n\n    while len(levels) > 1:\n        s += '</li>\\n</ul>\\n'\n        levels.pop()\n\n    if not s:\n        return ''\n    return '<ul>\\n' + s + '</li>\\n</ul>\\n'",
      "old_code": "def render_toc_ul(toc: Iterable[Tuple[int, str, str]]) -> str:\n    \"\"\"Render a <ul> table of content HTML. The param \"toc\" should\n    be formatted into this structure::\n\n        [\n          (level, id, text),\n        ]\n\n    For example::\n\n        [\n          (1, 'toc-intro', 'Introduction'),\n          (2, 'toc-install', 'Install'),\n          (2, 'toc-upgrade', 'Upgrade'),\n          (1, 'toc-license', 'License'),\n        ]\n    \"\"\"\n    if not toc:\n        return ''\n\n    s = '<ul>\\n'\n    levels: List[int] = []\n    for level, k, text in toc:\n        item = '<a href=\"#{}\">{}</a>'.format(k, text)\n        if not levels:\n            s += '<li>' + item\n            levels.append(level)\n        elif level == levels[-1]:\n            s += '</li>\\n<li>' + item\n        elif level > levels[-1]:\n            s += '\\n<ul>\\n<li>' + item\n            levels.append(level)\n        else:\n            levels.pop()\n            while levels:\n                last_level = levels.pop()\n                if level == last_level:\n                    s += '</li>\\n</ul>\\n</li>\\n<li>' + item\n                    levels.append(level)\n                    break\n                elif level > last_level:\n                    s += '</li>\\n<li>' + item\n                    levels.append(last_level)\n                    levels.append(level)\n                    break\n                else:\n                    s += '</li>\\n</ul>\\n'\n            else:\n                levels.append(level)\n                s += '</li>\\n<li>' + item\n\n    while len(levels) > 1:\n        s += '</li>\\n</ul>\\n'\n        levels.pop()\n\n    return s + '</li>\\n</ul>\\n'"
    },
    {
      "path": "tests/test_hooks.py",
      "version": "new",
      "line": 25,
      "kind": "function",
      "qualname": "tests.test_hooks.TestTocHook.test_render_empty_toc",
      "span": [
        25,
        27
      ],
      "reason": "diff_new_line_in_def",
      "is_test": true,
      "seed_type": "test_change",
      "new_code": "    def test_render_empty_toc(self):\n        self.assertEqual(render_toc_ul([]), '')\n        self.assertEqual(render_toc_ul(filter(lambda _: False, [])), '')",
      "old_code": null
    }
  ],
  "generated_at": "2026-02-11T10:48:30"
}